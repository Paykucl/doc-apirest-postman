{
	"info": {
		"_postman_id": "2855dea4-ec55-40fc-80a6-e0b7a625a004",
		"name": "Payku API Collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Transacción",
			"item": [
				{
					"name": "Crear transacción",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"\r",
									"const body = {\r",
									"  \"email\": \"support@youwebsite.cl\",\r",
									"  \"order\": 97745,\r",
									"  \"subject\": \"subject\",\r",
									"  \"amount\": 5000,\r",
									"  \"payment\": 1,\r",
									"  \"urlreturn\": \"https://youwebsite.com/urlreturn?orderClient=123\",\r",
									"  \"urlnotify\": \"https://youwebsite.com/urlnotify?orderClient=123\"\r",
									"};\r",
									" \r",
									" const body_str = JSON.stringify(body);\r",
									" pm.globals.set('body_data', body_str);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{body_data}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/transaction",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"transaction"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener múltiples pagos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url_api}}/transaction",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"transaction"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener pago",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url_api}}/transaction/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"transaction",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Marketplace",
			"item": [
				{
					"name": "Crear cliente",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"\r",
									"const body = {\r",
									"  \"email\": \"support@website.cl\",\r",
									"  \"name\": \"Token\",\r",
									"  \"phone\": \"923122312\",\r",
									"  \"bank\": {\r",
									"    \"sbif\": \"0001\",\r",
									"    \"type\": \"1\",\r",
									"    \"num\": \"12312341234\",\r",
									"    \"rut\": \"11111111-1\"\r",
									"  }\r",
									"};\r",
									" \r",
									" const body_str = JSON.stringify(body);\r",
									" pm.globals.set('body_data', body_str);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{body_data}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/maclient",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maclient"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar cliente",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url_api}}/maclient/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maclient",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar cliente",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{url_api}}/maclient/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maclient",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear afiliación",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"\r",
									"const body = {\r",
									"  \"name\": \"Maria\",\r",
									"  \"percentage\": \"30\",\r",
									"  \"affiliation\": [\r",
									"    [\r",
									"      \"macle1c5b133b40ea676\",\r",
									"      \"70\"\r",
									"    ]\r",
									"  ]\r",
									"};\r",
									" \r",
									" const body_str = JSON.stringify(body);\r",
									" pm.globals.set('body_data', body_str);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{body_data}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/maaffiliation",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maaffiliation"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar afiliación",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url_api}}/maaffiliation/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maaffiliation",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar afiliación",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{url_api}}/maaffiliation/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"maaffiliation",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear transac marketplace",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"\r",
									"const body = {\r",
									"  \"email\": \"support@website.cl\",\r",
									"  \"order\": 95745,\r",
									"  \"subject\": \"Tested\",\r",
									"  \"amount\": 15000,\r",
									"  \"payment\": 1,\r",
									"  \"urlreturn\": \"https://youwebsite.com/urlreturn?orderClient=123\",\r",
									"  \"urlnotify\": \"https://youwebsite.com/urlnotify?orderClient=123\",\r",
									"  \"marketplace\": \"8b60fe8e8af70d1d270e27e349f7e96df61f4583e8f6297dc2d1fcfcbd269cc9\"\r",
									"};\r",
									" \r",
									" const body_str = JSON.stringify(body);\r",
									" pm.globals.set('body_data', body_str);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{body_data}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/transaction",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"transaction"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Suscripcion",
			"item": [
				{
					"name": "Crear cliente",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suclient');\r",
									"\r",
									"const body = {\r",
									"    \"email\": \"supportex@website.cl\",\r",
									"    \"name\": \"Subject\",\r",
									"    \"phone\": \"923122312\",\r",
									"    \"address\": \"Moneda 101\",\r",
									"    \"country\": \"Chile\",\r",
									"    \"region\": \"Metropolitana\",\r",
									"    \"city\": \"Santiago\",\r",
									"    \"postal_code\": \"850000\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"{{email}}\",\r\n  \"name\": \"{{name}}\",\r\n  \"phone\": \"{{phone}}\",\r\n  \"address\": \"{{address}}\",\r\n  \"country\": \"{{country}}\",\r\n  \"region\": \"{{region}}\",\r\n  \"city\": \"{{city}}\",\r\n  \"postal_code\": \"{{postal_code}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suclient",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar cliente",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/suclient/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar cliente",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suclient/cld6b4b9f7e24222a74f48');\r",
									"\r",
									"const body = {\r",
									"    \"email\": \"supporte@website.cl\",\r",
									"    \"name\": \"Subject True\",\r",
									"    \"phone\": \"123456789\",\r",
									"    \"address\": \"Moneda 707\",\r",
									"    \"country\": \"Chile\",\r",
									"    \"region\": \"Metropolitana\",\r",
									"    \"city\": \"Santiago\",\r",
									"    \"postal_code\": \"850000\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"{{email}}\",\r\n  \"name\": \"{{name}}\",\r\n  \"phone\": \"{{phone}}\",\r\n  \"address\": \"{{address}}\",\r\n  \"country\": \"{{country}}\",\r\n  \"region\": \"{{region}}\",\r\n  \"city\": \"{{city}}\",\r\n  \"postal_code\": \"{{postal_code}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suclient/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar cliente",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/suclient/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener clientes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/suclient/customers",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear suscripción",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/sususcription');\r",
									"\r",
									"const body = {\r",
									"  \"plan\": \"pl691f84b91e9bae905a05\",\r",
									"  \"client\": \"cld6b4b9f7e24222a74f48\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"plan\": \"{{plan}}\",\r\n  \"client\": \"{{client}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/sususcription",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sususcription"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener suscripciones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/sususcription",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sususcription"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear transacción",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/sutransaction');\r",
									"\r",
									"const body = {\r",
									"  \"suscription\": \"su40fa057ea592f9a24f77\",\r",
									"  \"amount\": \"1000\",\r",
									"  \"order\": \"001\",\r",
									"  \"description\": \"Descripción\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"suscription\": \"{{suscription}}\",\r\n  \"amount\": \"{{amount}}\",\r\n  \"order\": \"{{order}}\",\r\n  \"description\": \"{{description}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/sutransaction",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sutransaction"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar suscripción",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "821e3f8ebea2a679e0bdb67697b01075af6dec10003aac51f21a13ddf485f5b3",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/sususcription/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sususcription",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar Suscripción",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{url_api}}/sususcription/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sususcription",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Afiliar tarjeta",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suinscriptionscards');\r",
									"\r",
									"const body = {\r",
									"  \"suscription\": \"su40fa057ea592f9a24f77\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"suscription\": \"{{suscription}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suinscriptionscards",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suinscriptionscards"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear plan",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suplan');\r",
									"\r",
									"const body = {\r",
									"  \"name\": \"Test Plan\",\r",
									"  \"description\": \"Test Plan\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"{{name}}\",\r\n  \"description\": \"{{description}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suplan",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suplan"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar plan",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suplan/{CODIGO-ID-IDENTIFICADOR}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suplan",
								"{CODIGO-ID-IDENTIFICADOR}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Consultar planes",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suplan/plans",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suplan",
								"plans"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Suscripcion de Consumo",
			"item": [
				{
					"name": "Crear cliente",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suclient');\r",
									"\r",
									"const body = {\r",
									"    \"email\": \"supportex@website.cl\",\r",
									"    \"name\": \"Subject\",\r",
									"    \"phone\": \"923122312\",\r",
									"    \"address\": \"Moneda 101\",\r",
									"    \"country\": \"Chile\",\r",
									"    \"region\": \"Metropolitana\",\r",
									"    \"city\": \"Santiago\",\r",
									"    \"postal_code\": \"850000\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"{{email}}\",\r\n  \"name\": \"{{name}}\",\r\n  \"phone\": \"{{phone}}\",\r\n  \"address\": \"{{address}}\",\r\n  \"country\": \"{{country}}\",\r\n  \"region\": \"{{region}}\",\r\n  \"city\": \"{{city}}\",\r\n  \"postal_code\": \"{{postal_code}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suclient",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suclient"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear plan",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/suplan');\r",
									"\r",
									"const body = {\r",
									"  \"name\": \"Test Plan\",\r",
									"  \"description\": \"Test Plan\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"name\": \"{{name}}\",\r\n  \"description\": \"{{description}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/suplan",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"suplan"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear suscripción",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/sususcription');\r",
									"\r",
									"const body = {\r",
									"  \"plan\": \"pl691f84b91e9bae905a05\",\r",
									"  \"client\": \"cld6b4b9f7e24222a74f48\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"plan\": \"{{plan}}\",\r\n  \"client\": \"{{client}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/sususcription",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sususcription"
							]
						}
					},
					"response": []
				},
				{
					"name": "Crear transacción",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"const requestPath = encodeURIComponent('/api/sutransaction');\r",
									"\r",
									"const body = {\r",
									"  \"suscription\": \"su40fa057ea592f9a24f77\",\r",
									"  \"amount\": \"10000\",\r",
									"  \"order\": \"001\",\r",
									"  \"description\": \"Descripción\"\r",
									"};\r",
									" \r",
									" const orderedData = {};\r",
									" Object.keys(body).sort().forEach(function(key) {\r",
									"    pm.globals.set(key, body[key]);\r",
									"    orderedData[key] = body[key];\r",
									"  });\r",
									"\r",
									"   const arrayConcat = Object.entries(orderedData).map(\r",
									"    ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\r",
									"  ).join(\"&\");\r",
									"\r",
									"  const arrayChange = arrayConcat.replace(/%20/g, '+');\r",
									"\r",
									"  const concat = requestPath + \"&\" + arrayChange;\r",
									"\r",
									"  const sign = CryptoJS.HmacSHA256(concat, pm.environment.get(\"token_priv\")).toString();\r",
									"\r",
									"  pm.globals.set(\"firma\", sign);\r",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Sign",
								"value": "{{firma}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"suscription\": \"{{suscription}}\",\r\n  \"amount\": \"{{amount}}\",\r\n  \"order\": \"{{order}}\",\r\n  \"description\": \"{{description}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/sutransaction",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"sutransaction"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Evento",
			"item": [
				{
					"name": "Crear evento",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.globals.clear()\r",
									"\r",
									"const body = {\r",
									"  \"event\": \"90375\",\r",
									"  \"name\": \"Event\",\r",
									"  \"date_event\": \"2021-04-20\",\r",
									"  \"date_closing_sales\": \"2021-04-20 23:59:00\",\r",
									"  \"date_payment\": \"2021-04-20\",\r",
									"  \"url_event\": \"https://example.cl/event1\",\r",
									"  \"url_logo\": \"https://example.cl/logo_event1.png\",\r",
									"  \"service_sale\": 10,\r",
									"  \"affiliaction\": [\r",
									"    {\r",
									"      \"email\": \"afiliate1@domain.com\",\r",
									"      \"percent\": 50\r",
									"    }\r",
									"  ]\r",
									"};\r",
									" \r",
									" const body_str = JSON.stringify(body);\r",
									" pm.globals.set('body_data', body_str);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{{body_data}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url_api}}/event",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"event"
							]
						}
					},
					"response": []
				},
				{
					"name": "Obtener evento",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url_api}}/event/{CODIGO-ID}",
							"host": [
								"{{url_api}}"
							],
							"path": [
								"event",
								"{CODIGO-ID}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token_pub}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}